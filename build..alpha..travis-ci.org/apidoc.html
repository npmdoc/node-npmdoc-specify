<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/dscape/specify"

    >specify (v1.3.0)</a>
</h1>
<h4>bite sized node.js testing</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.specify">module specify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.specify">
            function <span class="apidocSignatureSpan"></span>specify
            <span class="apidocSignatureSpan">(name, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.compact">
            function <span class="apidocSignatureSpan">specify.</span>compact
            <span class="apidocSignatureSpan">(name, report, errors)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.default">
            function <span class="apidocSignatureSpan">specify.</span>default
            <span class="apidocSignatureSpan">(name, report, errors)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.json">
            function <span class="apidocSignatureSpan">specify.</span>json
            <span class="apidocSignatureSpan">(name, report, errors)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.reporter">
            function <span class="apidocSignatureSpan">specify.</span>reporter
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.run">
            function <span class="apidocSignatureSpan">specify.</span>run
            <span class="apidocSignatureSpan">(filter)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.toString">
            function <span class="apidocSignatureSpan">specify.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.specify.compact">module specify.compact</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.compact.compact">
            function <span class="apidocSignatureSpan">specify.</span>compact
            <span class="apidocSignatureSpan">(name, report, errors)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.specify.default">module specify.default</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.default.default">
            function <span class="apidocSignatureSpan">specify.</span>default
            <span class="apidocSignatureSpan">(name, report, errors)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.specify.json">module specify.json</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.json.json">
            function <span class="apidocSignatureSpan">specify.</span>json
            <span class="apidocSignatureSpan">(name, report, errors)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.specify.reporter">module specify.reporter</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.reporter.reporter">
            function <span class="apidocSignatureSpan">specify.</span>reporter
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.specify.run">module specify.run</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.run.run">
            function <span class="apidocSignatureSpan">specify.</span>run
            <span class="apidocSignatureSpan">(filter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.specify.specify">module specify.specify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.specify.specify">
            function <span class="apidocSignatureSpan">specify.</span>specify
            <span class="apidocSignatureSpan">(name, f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.specify.reporter">
            function <span class="apidocSignatureSpan">specify.specify.</span>reporter
            <span class="apidocSignatureSpan">(f)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.specify.run">
            function <span class="apidocSignatureSpan">specify.specify.</span>run
            <span class="apidocSignatureSpan">(filter)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.specify.toString">module specify.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.specify.toString.toString">
            function <span class="apidocSignatureSpan">specify.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.specify" id="apidoc.module.specify">module specify</a></h1>


    <h2>
        <a href="#apidoc.element.specify.specify" id="apidoc.element.specify.specify">
        function <span class="apidocSignatureSpan"></span>specify
        <span class="apidocSignatureSpan">(name, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function specify_test(name, f) {
  cache.push([].slice.call(arguments,0));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.specify.compact" id="apidoc.element.specify.compact">
        function <span class="apidocSignatureSpan">specify.</span>compact
        <span class="apidocSignatureSpan">(name, report, errors)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function compact_reporter(name, report, errors) {
  // starting a new file
  if(typeof report === &#x22;undefined&#x22;) {
    current_test = name;
    current_errors = {};
  } else if (name === &#x22;summary&#x22;) { // finished testing
    var failed = report.fail + report.notrun
      , left   = failed === 0 ? (&#x27;✔&#x27;.green) : (&#x27;✗&#x27;.red)
      , right  = report.ok + &#x27;/&#x27; + (report.ok+failed)
      ;
    left += &#x22; &#x22; + current_test;
    var dots = new Array(
      Math.max(1, width - left.length - right.length)).join(&#x22;.&#x22;);
    console.log(&#x22;%s %s %s&#x22;, left, dots, right);
    current_test   = &#x22;&#x22;;
    current_errors = {};
  } else { // errors

  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.specify.default" id="apidoc.element.specify.default">
        function <span class="apidocSignatureSpan">specify.</span>default
        <span class="apidocSignatureSpan">(name, report, errors)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function default_reporter(name, report, errors) {
  if(typeof report === &#x22;undefined&#x22;) {
    console.log();
    console.log(&#x22;  &#x22; + name);
    return console.log();
  }
  errors = errors || [];
  var failed = report.fail + report.notrun;
  var symbol = failed === 0 ? (&#x27;✔&#x27;.green) : (&#x27;✗&#x27;.red);
  var right = report.ok + &#x27;/&#x27; + (report.ok+failed);
  process.stdout.write(symbol + &#x27; &#x27;);
  process.stdout.write(right + &#x27; &#x27;);
  var d = &#x27;&#x27;;
  if(report.duration) {
    d = &#x27;took &#x27;.grey + (report.duration + &#x27;ms&#x27;).green;
  }
  console.log(name.cyan + &#x22; &#x22; + d);
  errors.forEach(function(err) {
    if(typeof err === &#x22;string&#x22;) {
      console.log(&#x27;└───── &#x27;.grey + (err || &#x22;Error&#x22;));
    } else {
      console.log(&#x27;└───── &#x27;.grey + (err.msg || &#x22;Error&#x22;));
      process.stdout.write(&#x27;❝ &#x27;.grey + err.assert + &#x27; &#x27;);
      if(err.assert === &#x22;ok&#x22;) {
        console.log(err.args[0]);
      } else {
        console.log();
        if(err.args[0] &#x26;&#x26; err.args[1] &#x26;&#x26; typeof err.args[0]===&#x22;object&#x22; &#x26;&#x26;
             typeof err.args[1]===&#x22;object&#x22;) {
          console.log(
            difflet({ indent : 2, comment : true })
              .compare(err.args[0], err.args[1]));
        } else {
          var indexzero = decycle(err.args[0] || &#x22;undefined&#x22;)
            , indexone  = decycle(err.args[1] || &#x22;undefined&#x22;)
            ;
          try {
            process.stdout.write(JSON.stringify(indexzero, null, 1).magenta);
            console.log((&#x22; // &#x22; +
              JSON.stringify(indexone, null, 1)).cyan);
          } catch (ex) {
            console.log(&#x22; // { \&#x22;circular\&#x22;: \&#x22;⥁\&#x22;}&#x22;.cyan);
          }
        }
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.specify.json" id="apidoc.element.specify.json">
        function <span class="apidocSignatureSpan">specify.</span>json
        <span class="apidocSignatureSpan">(name, report, errors)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function json_reporter(name, report, errors) {
  var json_report =
    { name   : name
    , report : report
    , errors : errors
    };
  console.log(JSON.stringify(decycle(json_report)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.specify.reporter" id="apidoc.element.specify.reporter">
        function <span class="apidocSignatureSpan">specify.</span>reporter
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reporter = function (f) {
  if (typeof f === &#x27;function&#x27;) {
    summary = f;
    return;
  }
  else if (typeof f === &#x27;string&#x27;) {
    var reporter = reporters[f + &#x27;.js&#x27;];
    if(typeof reporter === &#x27;function&#x27;) {
      summary = reporter;
      return;
    }
  }
  summary = def_summary;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

If you feel like the output sent to `stdout` is ugly, you can write your own reporter and send in a pull request.

Now use it:

``` js
specify(&#x27;specify#ask_for_a_specific_reporter&#x27;, function(assert) {
  specify.<span class="apidocCodeKeywordSpan">reporter</span>(&#x27;my_awesome_reporter&#x27;);
  setTimeout(function (){
    assert.ok(true);
  },1);
});
```

You can also do this with a function if you like:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.specify.run" id="apidoc.element.specify.run">
        function <span class="apidocSignatureSpan">specify.</span>run
        <span class="apidocSignatureSpan">(filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run_all_tests(filter) {
  if(typeof filter === &#x22;function&#x22;) {
    cache  = [[&#x22;main&#x22;, filter]];
    filter = [];
  }
  summary(module.parent.filename.replace(process.cwd(), &#x22;&#x22;));
  startTime = Date.now();
  filter = typeof filter === &#x22;string&#x22; ? [filter] : filter;
  if(filter &#x26;&#x26; filter.length !== 0) {
    var filtered_cache = [];
    filter.forEach(function (e) {
      cache.forEach(function (c){
        var name = c[0];
        if(name===e) filtered_cache.push(c);
      });
    });
    run_tests(filtered_cache);
  }
  else {
    run_tests(cache);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
specify(&#x27;create_by_secret&#x27;, function (assert) {
  user.create_by_secret({invitation_code: &#x22;1234321!!&#x22;}, function (err) {
    assert.equal(err.eid, &#x22;ec:api:user:create_by_secret:wrong_code&#x22;);
    assert.equal(err.status_code, 400);
  });
});

specify.<span class="apidocCodeKeywordSpan">run</span>();
```

The assert calls are callback functions that wrap the assert module. `specify` figures out how many callbacks you are calling by
 [static-analysis]. To put it simply, it counts the number of times you wrote `assert`. When that number of assertions is met, or
 when a timeout occurs, that test is complete and we can execute the next one.

Static analysis does not work for a `for` loop and some other flow control constructs. In that case you can use `assert.expect(nr
)` to tell specify how many assertions to expect:

``` js
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.specify.toString" id="apidoc.element.specify.toString">
        function <span class="apidocSignatureSpan">specify.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.specify.compact" id="apidoc.module.specify.compact">module specify.compact</a></h1>


    <h2>
        <a href="#apidoc.element.specify.compact.compact" id="apidoc.element.specify.compact.compact">
        function <span class="apidocSignatureSpan">specify.</span>compact
        <span class="apidocSignatureSpan">(name, report, errors)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function compact_reporter(name, report, errors) {
  // starting a new file
  if(typeof report === &#x22;undefined&#x22;) {
    current_test = name;
    current_errors = {};
  } else if (name === &#x22;summary&#x22;) { // finished testing
    var failed = report.fail + report.notrun
      , left   = failed === 0 ? (&#x27;✔&#x27;.green) : (&#x27;✗&#x27;.red)
      , right  = report.ok + &#x27;/&#x27; + (report.ok+failed)
      ;
    left += &#x22; &#x22; + current_test;
    var dots = new Array(
      Math.max(1, width - left.length - right.length)).join(&#x22;.&#x22;);
    console.log(&#x22;%s %s %s&#x22;, left, dots, right);
    current_test   = &#x22;&#x22;;
    current_errors = {};
  } else { // errors

  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.specify.default" id="apidoc.module.specify.default">module specify.default</a></h1>


    <h2>
        <a href="#apidoc.element.specify.default.default" id="apidoc.element.specify.default.default">
        function <span class="apidocSignatureSpan">specify.</span>default
        <span class="apidocSignatureSpan">(name, report, errors)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function default_reporter(name, report, errors) {
  if(typeof report === &#x22;undefined&#x22;) {
    console.log();
    console.log(&#x22;  &#x22; + name);
    return console.log();
  }
  errors = errors || [];
  var failed = report.fail + report.notrun;
  var symbol = failed === 0 ? (&#x27;✔&#x27;.green) : (&#x27;✗&#x27;.red);
  var right = report.ok + &#x27;/&#x27; + (report.ok+failed);
  process.stdout.write(symbol + &#x27; &#x27;);
  process.stdout.write(right + &#x27; &#x27;);
  var d = &#x27;&#x27;;
  if(report.duration) {
    d = &#x27;took &#x27;.grey + (report.duration + &#x27;ms&#x27;).green;
  }
  console.log(name.cyan + &#x22; &#x22; + d);
  errors.forEach(function(err) {
    if(typeof err === &#x22;string&#x22;) {
      console.log(&#x27;└───── &#x27;.grey + (err || &#x22;Error&#x22;));
    } else {
      console.log(&#x27;└───── &#x27;.grey + (err.msg || &#x22;Error&#x22;));
      process.stdout.write(&#x27;❝ &#x27;.grey + err.assert + &#x27; &#x27;);
      if(err.assert === &#x22;ok&#x22;) {
        console.log(err.args[0]);
      } else {
        console.log();
        if(err.args[0] &#x26;&#x26; err.args[1] &#x26;&#x26; typeof err.args[0]===&#x22;object&#x22; &#x26;&#x26;
             typeof err.args[1]===&#x22;object&#x22;) {
          console.log(
            difflet({ indent : 2, comment : true })
              .compare(err.args[0], err.args[1]));
        } else {
          var indexzero = decycle(err.args[0] || &#x22;undefined&#x22;)
            , indexone  = decycle(err.args[1] || &#x22;undefined&#x22;)
            ;
          try {
            process.stdout.write(JSON.stringify(indexzero, null, 1).magenta);
            console.log((&#x22; // &#x22; +
              JSON.stringify(indexone, null, 1)).cyan);
          } catch (ex) {
            console.log(&#x22; // { \&#x22;circular\&#x22;: \&#x22;⥁\&#x22;}&#x22;.cyan);
          }
        }
      }
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.specify.json" id="apidoc.module.specify.json">module specify.json</a></h1>


    <h2>
        <a href="#apidoc.element.specify.json.json" id="apidoc.element.specify.json.json">
        function <span class="apidocSignatureSpan">specify.</span>json
        <span class="apidocSignatureSpan">(name, report, errors)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function json_reporter(name, report, errors) {
  var json_report =
    { name   : name
    , report : report
    , errors : errors
    };
  console.log(JSON.stringify(decycle(json_report)));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.specify.reporter" id="apidoc.module.specify.reporter">module specify.reporter</a></h1>


    <h2>
        <a href="#apidoc.element.specify.reporter.reporter" id="apidoc.element.specify.reporter.reporter">
        function <span class="apidocSignatureSpan">specify.</span>reporter
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reporter = function (f) {
  if (typeof f === &#x27;function&#x27;) {
    summary = f;
    return;
  }
  else if (typeof f === &#x27;string&#x27;) {
    var reporter = reporters[f + &#x27;.js&#x27;];
    if(typeof reporter === &#x27;function&#x27;) {
      summary = reporter;
      return;
    }
  }
  summary = def_summary;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

If you feel like the output sent to `stdout` is ugly, you can write your own reporter and send in a pull request.

Now use it:

``` js
specify(&#x27;specify#ask_for_a_specific_reporter&#x27;, function(assert) {
  specify.<span class="apidocCodeKeywordSpan">reporter</span>(&#x27;my_awesome_reporter&#x27;);
  setTimeout(function (){
    assert.ok(true);
  },1);
});
```

You can also do this with a function if you like:
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.specify.run" id="apidoc.module.specify.run">module specify.run</a></h1>


    <h2>
        <a href="#apidoc.element.specify.run.run" id="apidoc.element.specify.run.run">
        function <span class="apidocSignatureSpan">specify.</span>run
        <span class="apidocSignatureSpan">(filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run_all_tests(filter) {
  if(typeof filter === &#x22;function&#x22;) {
    cache  = [[&#x22;main&#x22;, filter]];
    filter = [];
  }
  summary(module.parent.filename.replace(process.cwd(), &#x22;&#x22;));
  startTime = Date.now();
  filter = typeof filter === &#x22;string&#x22; ? [filter] : filter;
  if(filter &#x26;&#x26; filter.length !== 0) {
    var filtered_cache = [];
    filter.forEach(function (e) {
      cache.forEach(function (c){
        var name = c[0];
        if(name===e) filtered_cache.push(c);
      });
    });
    run_tests(filtered_cache);
  }
  else {
    run_tests(cache);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
specify(&#x27;create_by_secret&#x27;, function (assert) {
  user.create_by_secret({invitation_code: &#x22;1234321!!&#x22;}, function (err) {
    assert.equal(err.eid, &#x22;ec:api:user:create_by_secret:wrong_code&#x22;);
    assert.equal(err.status_code, 400);
  });
});

specify.<span class="apidocCodeKeywordSpan">run</span>();
```

The assert calls are callback functions that wrap the assert module. `specify` figures out how many callbacks you are calling by
 [static-analysis]. To put it simply, it counts the number of times you wrote `assert`. When that number of assertions is met, or
 when a timeout occurs, that test is complete and we can execute the next one.

Static analysis does not work for a `for` loop and some other flow control constructs. In that case you can use `assert.expect(nr
)` to tell specify how many assertions to expect:

``` js
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.specify.specify" id="apidoc.module.specify.specify">module specify.specify</a></h1>


    <h2>
        <a href="#apidoc.element.specify.specify.specify" id="apidoc.element.specify.specify.specify">
        function <span class="apidocSignatureSpan">specify.</span>specify
        <span class="apidocSignatureSpan">(name, f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function specify_test(name, f) {
  cache.push([].slice.call(arguments,0));
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.specify.specify.reporter" id="apidoc.element.specify.specify.reporter">
        function <span class="apidocSignatureSpan">specify.specify.</span>reporter
        <span class="apidocSignatureSpan">(f)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reporter = function (f) {
  if (typeof f === &#x27;function&#x27;) {
    summary = f;
    return;
  }
  else if (typeof f === &#x27;string&#x27;) {
    var reporter = reporters[f + &#x27;.js&#x27;];
    if(typeof reporter === &#x27;function&#x27;) {
      summary = reporter;
      return;
    }
  }
  summary = def_summary;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

If you feel like the output sent to `stdout` is ugly, you can write your own reporter and send in a pull request.

Now use it:

``` js
specify(&#x27;specify#ask_for_a_specific_reporter&#x27;, function(assert) {
  specify.<span class="apidocCodeKeywordSpan">reporter</span>(&#x27;my_awesome_reporter&#x27;);
  setTimeout(function (){
    assert.ok(true);
  },1);
});
```

You can also do this with a function if you like:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.specify.specify.run" id="apidoc.element.specify.specify.run">
        function <span class="apidocSignatureSpan">specify.specify.</span>run
        <span class="apidocSignatureSpan">(filter)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function run_all_tests(filter) {
  if(typeof filter === &#x22;function&#x22;) {
    cache  = [[&#x22;main&#x22;, filter]];
    filter = [];
  }
  summary(module.parent.filename.replace(process.cwd(), &#x22;&#x22;));
  startTime = Date.now();
  filter = typeof filter === &#x22;string&#x22; ? [filter] : filter;
  if(filter &#x26;&#x26; filter.length !== 0) {
    var filtered_cache = [];
    filter.forEach(function (e) {
      cache.forEach(function (c){
        var name = c[0];
        if(name===e) filtered_cache.push(c);
      });
    });
    run_tests(filtered_cache);
  }
  else {
    run_tests(cache);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
specify(&#x27;create_by_secret&#x27;, function (assert) {
  user.create_by_secret({invitation_code: &#x22;1234321!!&#x22;}, function (err) {
    assert.equal(err.eid, &#x22;ec:api:user:create_by_secret:wrong_code&#x22;);
    assert.equal(err.status_code, 400);
  });
});

specify.<span class="apidocCodeKeywordSpan">run</span>();
```

The assert calls are callback functions that wrap the assert module. `specify` figures out how many callbacks you are calling by
 [static-analysis]. To put it simply, it counts the number of times you wrote `assert`. When that number of assertions is met, or
 when a timeout occurs, that test is complete and we can execute the next one.

Static analysis does not work for a `for` loop and some other flow control constructs. In that case you can use `assert.expect(nr
)` to tell specify how many assertions to expect:

``` js
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.specify.toString" id="apidoc.module.specify.toString">module specify.toString</a></h1>


    <h2>
        <a href="#apidoc.element.specify.toString.toString" id="apidoc.element.specify.toString.toString">
        function <span class="apidocSignatureSpan">specify.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
